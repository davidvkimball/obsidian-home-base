/**
 * Home Base Plugin Styles
 */

/* ========================================
   Sticky Home Icon (Desktop)
   ======================================== */

/* Sticky home icon - positioned absolutely relative to tab bar, aligned with tabs */
.workspace-tabs > .home-base-sticky-icon {
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 0;
	margin: 0;
	cursor: default;
	color: var(--text-muted);
	transition: color 150ms ease;
	background: none;
	height: var(--tab-height, 32px);
	width: 24px;
	min-width: 24px;
	max-width: 24px;
	/* Position absolutely relative to workspace-tabs container */
	position: absolute;
	left: 4px; /* Position from left edge, accounting for container padding */
	top: 0; /* Align with top of tab bar */
	z-index: 10; /* Above tabs but not too high */
	/* Prevent any layout shifts or animations */
	will-change: auto;
	transform: translateZ(0); /* Force hardware acceleration for stability */
	pointer-events: auto; /* Ensure it's clickable */
	/* Isolate from any parent transforms or animations */
	isolation: isolate;
}

/* Ensure workspace-tabs has relative positioning for absolute child */
.workspace-tabs {
	position: relative;
}

/* Add padding to tab container inner to make space for the icon */
.workspace-split.mod-vertical.mod-root .workspace-tab-header-container-inner {
	padding-left: 32px; /* Space for icon (24px) + margin (8px) */
}

.home-base-sticky-icon:hover {
	background: none;
	color: var(--text-normal);
}

.home-base-sticky-icon-active {
	color: var(--text-accent);
}

.home-base-sticky-icon-active:hover {
	color: var(--text-accent-hover);
}

.workspace-tabs > .home-base-sticky-icon svg {
	width: 18px;
	height: 18px;
	min-width: 18px;
	min-height: 18px;
	max-width: 18px;
	max-height: 18px;
	flex-shrink: 0;
	display: block;
	/* Prevent any size changes */
	box-sizing: border-box;
}

/* ========================================
   Mobile New Tab Button Replacement
   ======================================== */

/* Hide the default SVG when mobile home is enabled */
.home-base-mobile-enabled .mobile-navbar-action-new-tab .clickable-icon svg {
	display: none;
}

/* Add Lucide house icon as replacement */
.home-base-mobile-enabled .mobile-navbar-action-new-tab .clickable-icon::before {
	content: '';
	display: inline-block;
	width: 24px;
	height: 24px;
	background-color: currentColor;
	-webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8'/%3E%3Cpath d='M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z'/%3E%3C/svg%3E") no-repeat center / contain;
	mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8'/%3E%3Cpath d='M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z'/%3E%3C/svg%3E") no-repeat center / contain;
}

/* ========================================
   Settings Tab Styles
   ======================================== */

/* File suggester styling */
.suggestion-title {
	font-weight: 500;
}

.suggestion-path {
	color: var(--text-muted);
	margin-left: 4px;
}

.suggestion-note {
	color: var(--text-faint);
	font-family: var(--font-monospace);
	font-size: var(--font-smaller);
}

.suggestion-flair {
	display: inline-block;
	padding: 1px 4px;
	margin-left: 8px;
	border-radius: var(--radius-s);
	background-color: var(--background-modifier-border);
	color: var(--text-muted);
	font-size: var(--font-smallest);
	font-weight: 500;
	text-transform: uppercase;
}

/* Setting group heading fallback (for Obsidian < 1.11.0) */
.setting-group-heading h3 {
	margin: 24px 0 12px 0;
	padding: 0;
	font-size: var(--font-ui-medium);
	font-weight: 600;
	color: var(--text-normal);
	border-bottom: 1px solid var(--background-modifier-border);
	padding-bottom: 8px;
}

.setting-group-heading:first-child h3 {
	margin-top: 0;
}
